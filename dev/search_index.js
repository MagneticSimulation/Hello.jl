var documenterSearchIndex = {"docs":
[{"location":"notes/#Reducing-the-startup-time","page":"Reducing the startup time","title":"Reducing the startup time","text":"","category":"section"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"Julia is a dynamically-typed langangue, so the input script will be compiled when we start a simulation. However, the typical startup time in our case ranges from 1s to 30s depends on the complexity of the problem. It is painful especially if we run the simulation using GPU. Luckily, we can compile our package using PackageCompiler.jl:","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"using PackageCompiler\ncompile_incremental(:JuMag)","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"After finishing the compilation, a dyn.so file will be generated. If we start julia using julia -J /path/to/dyn.so the stratup time will be ignorable.","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"Note: If you got an error similar to that shown at https://github.com/JuliaLang/PackageCompiler.jl/issues/184, using dev PackageCompiler may solve the issue.","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"If other errors appear, it is better to figure out which package is failed","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"compile_incremental(:FFTW, :CUDAdrv, :CUDAnative, :CuArrays, force=false)","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"and remove that package from deps in Project.toml. For example, if CuArrays fails, comment the line","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"#CuArrays = \"3a865a2d-5b23-5a0f-bc46-62713ec82fae\"","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"may solve the problem.","category":"page"},{"location":"notes/#Tutorial","page":"Reducing the startup time","title":"Tutorial","text":"","category":"section"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"To start a micromagnetic simulation, we first create a FDMesh","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"mesh = FDMesh(dx=2e-9, dy=2e-9, dz=2e-9, nx=100, ny=100)","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"After that, we create a simulation","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"sim = Sim(mesh, name=\"vortex\")","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"and set the damping to 0.5 and switch off the precession term in LLG equation:","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"sim.driver.alpha = 0.5\nsim.driver.precession = false","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"The geometry of the system can be defined by","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"set_Ms(sim, circular_Ms)","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"where circular_Ms could be a scalar or a function. The function should take six parameters (i,j,k,dx,dy,dz), for instance","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"function circular_Ms(i,j,k,dx,dy,dz)\n    if (i-50.5)^2 + (j-50.5)^2 <= 50^2\n        return 8.6e5\n    end\n    return 0.0\nend","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"We add the exchange interaction and the demagnetization field to the system.","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"add_exch(sim, 1.3e-11)\nadd_demag(sim)","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"We need to initialise the system which can be done by defining a function","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"function init_fun(i,j,k,dx,dy,dz)\n  x = i-50.5\n  y = j-50.5\n  r = (x^2+y^2)^0.5\n  if r<5\n    return (0,0,1)\n  end\n  return (x/r, -y/r, 0)\nend","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"and using","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"init_m0(sim, init_fun)","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"To trigger the simulation we relax the system","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"relax(sim, maxsteps=1000)","category":"page"},{"location":"notes/#Implemented-equations","page":"Reducing the startup time","title":"Implemented equations","text":"","category":"section"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"Exchange energy\nE_mathrmex = int_V A (nabla vecm)^2 mathrmdV\nBulk DMI energy\nE_mathrmdmi = int_V D vecm cdot (nabla times vecm)  mathrmdV\nAnisotropy","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"E_mathrmanis = int_V K_u  1 - (vecm cdot hatu)^2  dV","category":"page"},{"location":"notes/#LLG-equation","page":"Reducing the startup time","title":"LLG equation","text":"","category":"section"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"fracpartial vecmpartial t = - gamma vecm times vecH + alpha vecm times  fracpartial vecmpartial t","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"LL form:","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"(1+alpha^2)fracpartial vecmpartial t = - gamma vecm times vecH - alpha gamma vecm times (vecm times vecH)","category":"page"},{"location":"notes/#LLG-equation-with-Zhang-Li-extension","page":"Reducing the startup time","title":"LLG equation with Zhang-Li extension","text":"","category":"section"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"fracpartial vecmpartial t = - gamma vecm times vecH + alpha vecm times  fracpartial vecmpartial t   + u_0 (vecj_s cdot nabla) vecm - beta u_0 vecmtimes (vecj_s cdot nabla)vecm","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"where","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"u_0=fracp g mu_B2 e M_s=fracp g mu_B a^32 e mu_s","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"and $\\mu_B=|e|\\hbar/(2m)$ is the Bohr magneton. In LL form","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"(1+alpha^2)fracpartial vecmpartial t = - gamma vecm times vecH - alpha gamma vecm times (vecm times vecH) + (1+alphabeta) u_0 vectau - (beta-alpha) u_0 (vecmtimes vectau)","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"where \\vec{\\tau}=(\\vec{j}_s \\cdot \\nabla)\\vec{m}","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"Note that","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"u_0 (vecj_s cdot nabla) vecm=  - u_0 vecmtimesvecmtimes (vecj_s cdot nabla)vecm","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"so this torque is damping-like torque and the last torque is field-like torque. Therefore, we rewrite the LLG equation in the form","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"fracpartial vecmpartial t =\nF(vecm)\ntimes vecm","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"where","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"F(vecm) = frac1(1+alpha^2)\ngamma vecH + u_0 (beta-alpha)vectau+\nfrac1(1+alpha^2)vecm times alpha gamma\n  vecH + u_0 (1+alphabeta) vectau","category":"page"},{"location":"notes/#Cayley-transformation","page":"Reducing the startup time","title":"Cayley transformation","text":"","category":"section"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"The LLG equation can be cast into","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"fracpartial vecmpartial t = hatF(vecm) cdot vecm","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"where the operator \\hat{} is defined as","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"hatx = left( beginmatrix\n  0  -x_3  x_2 \n  x_3  0  -x_1 \n  -x_2  x_1  0\n endmatrix right)","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"Using the Cayley transfromation, the LLG equation can be written as","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"fracpartial Omegapartial t = F - frac12 Omega F\n- frac14 Omega F Omega","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"where","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"Omega = hatomega","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"So one has","category":"page"},{"location":"notes/","page":"Reducing the startup time","title":"Reducing the startup time","text":"fracpartial vecomegapartial t = vecF - frac12\n(omega times vecF)\n+ frac14 (omega cdot vecF) vecomega","category":"page"},{"location":"equations/#Equations","page":"Equations","title":"Equations","text":"","category":"section"},{"location":"equations/#Atomistic-spin-model","page":"Equations","title":"Atomistic spin model","text":"","category":"section"},{"location":"equations/","page":"Equations","title":"Equations","text":"The basic assumption of the atomistic spin model is that each lattice site is associated with a magnetic moment mu_s. For metal systems with quenched orbital moments, the magnetic moment is mainly related to its spin angular momentum","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"mathbfmu = - g mu_B mathbfS = - hbar  gamma mathbfS","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"where mu_B=e hbar (2m) is the Bohr magneton, e(0) is the electron charge,  gamma=gmu_Bhbar (0)  is the gyromagnetic ratio g=2 is the g-factor.  The LLG equation governs the dynamics of the magnetic moment,  which reads","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"fracpartial mathbfmpartial t = - gamma mathbfm times mathbfH_mathrmeff + alpha mathbfm times  fracpartial mathbfmpartial t","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"where mathbfm is the unit vector of the magnetic moment, mathbfH_mathrmeff is the effective field.","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"Unlike the continuous micromagnetic model, the atomistic spin model is discrete, and thus, the effective field mathbfH_mathrmeff is defined as the partial derivative of the total Hamiltonian with respect to mathbfm, i.e., ","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"mathbfH_mathrmeff=-frac1mu_s fracpartial mathcalHpartial mathbfm","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"where mathcalH is the total Hamiltonian including the exchange interaction, Dzyaloshinskii-Moriya interaction, dipolar interaction, anisotropy interaction,  Zeeman interaction and so on.  ","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"The exchange interaction is given by","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"mathcalH_mathrmex = -J sum_langle i jrangle mathbfm_i cdot mathbfm_j","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"where J denotes the exchange constant and langle ij rangle represents a unique pair between lattice sites i and j and we assume that the summation is taken only once for each pair. A positive J results in the ferromagnetic state while a negative J leads to the antiferromagnetic state, which can be seen by minimizing the exchange Hamiltonian. To solve the LLG equation numerically, we need the effective field at each site, which is given ","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"mathbfH_mathrmex i = fracJmu_s sum_langle i jrangle mathbfm_j","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"Similarly, the Dzyaloshinskii-Moriya interaction reads","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"mathcalH_mathrmdmi =  sum_langle i jrangle  mathbfD_i j cdotleft(mathbfm_i times mathbfm_jright)","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"where mathbfD_i j is the DM vector.  Typically, there are two situations: (1) mathbfD_i j = D hatr_ij, which corresponds to the Bulk DMI. (2) mathbfD_i j = D hatr_ij times hatz, which corresponds to the interfacial DMI. Unlike the exchange interaction, the DM Hamiltonian is minimal when the two adjacent magnetic moments are perpendicular. The corresponding effective field can be computed by","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"mathbfH_mathrmdmi i = frac1mu_s sum_langle i jrangle mathbfD_i j times mathbfm_j","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"The other two common interactions are the anisotropy and the Zeeman, which are given by","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"mathcalH_mathrman = - K sum_ileft(mathbfm_i cdot haturight)^2 \nmathcalH_mathrmze =  - mu_s mathbfm_i cdot mathbfH","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"The effective field of the anisotropy is ","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"mathbfH_mathrman i = frac2Kmu_s  (mathbfm_i cdot hatu) hatu","category":"page"},{"location":"equations/#Multiferroic-Insulators","page":"Equations","title":"Multiferroic Insulators","text":"","category":"section"},{"location":"equations/","page":"Equations","title":"Equations","text":"For multiferroics such as Cu_2OSeO_3, the noncollinear spin texture induces a local electric polarization via the the d-p hybridization mechanism. The local electric dipole moment mathbfP depends on the direction of the applied static magnetic field relative to the crystallographic axes.[PRL 128, 037201 (2022)] ","category":"page"},{"location":"equations/#H_0//001:","page":"Equations","title":"H_0001:","text":"","category":"section"},{"location":"equations/","page":"Equations","title":"Equations","text":"mathbfP_i=lambdaleft(-m_i z m_i x m_i y m_i z frac-m_i x^2+m_i y^22right)","category":"page"},{"location":"equations/#H_0//110:","page":"Equations","title":"H_0110:","text":"","category":"section"},{"location":"equations/","page":"Equations","title":"Equations","text":"mathbfP_i=lambdaleft(-m_i x m_i y frac-m_i x^2+m_i z^22 m_i y m_i zright)","category":"page"},{"location":"equations/#H_0//111:","page":"Equations","title":"H_0111:","text":"","category":"section"},{"location":"equations/","page":"Equations","title":"Equations","text":"mathbfP_ix=-lambda fracm_i xleft(sqrt2 m_i y+m_i zright)sqrt3 \n\nmathbfP_iy = lambda frac-m_i x^2+m_i yleft(m_i y-sqrt2 m_i zright)sqrt6 \n\nmathbfP_iz =\n-lambda fracm_i x^2+m_i y^2-2 m_i z^22 sqrt3","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"The Hamiltonian related to the high-frequency lasers is given by ","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"mathcalH_mathrmlaser =  -sum_i mu_s mathbfm_i cdot mathbfH(t) - sum_i mathbfP_i cdot mathbfE(t)","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"The corresponding effective fields associated with the electric field are","category":"page"},{"location":"equations/#H_0//001:-2","page":"Equations","title":"H_0001:","text":"","category":"section"},{"location":"equations/","page":"Equations","title":"Equations","text":"H_x = fraclambdamu_s  (-E_z m_x  - E_x m_z )\nH_y = fraclambdamu_s  (E_z m_y  + E_y m_z )\nH_z = fraclambdamu_s  (-E_x m_x  + E_y m_y )","category":"page"},{"location":"equations/#H_0//110:-2","page":"Equations","title":"H_0110:","text":"","category":"section"},{"location":"equations/","page":"Equations","title":"Equations","text":"H_x = fraclambdamu_s  (-E_y m_x  - E_x m_y )\nH_y = fraclambdamu_s  (-E_x m_x  + E_z m_z )\nH_z = fraclambdamu_s  (E_z m_y  + E_y m_z )","category":"page"},{"location":"equations/#H_0//111:-2","page":"Equations","title":"H_0111:","text":"","category":"section"},{"location":"equations/","page":"Equations","title":"Equations","text":"H_x = -fraclambdasqrt3mu_s  (sqrt2(E_y m_x + E_x m_y)  +E_z m_x + E_x m_z )\nH_y = -fraclambdasqrt3mu_s  (sqrt2(E_x m_x - E_y m_y)  +E_z m_y + E_y m_z )\nH_z = -fraclambdasqrt3mu_s  (E_x m_x  + E_y m_y - 2 E_z m_z)","category":"page"},{"location":"equations/#Micromagnetic-model","page":"Equations","title":"Micromagnetic model","text":"","category":"section"},{"location":"equations/","page":"Equations","title":"Equations","text":"In micromagnetics, the effective field can be computed from the total micromagnetic energy","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"mathbfH_mathrmeff=-frac1mu_0 M_s fracdelta Edelta mathbfm","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"The typical energy terms are","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"Exchange energy","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"  E_mathrmex = int_V A (nabla mathbfm)^2 mathrmdV","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"where (nabla mathbfm)^2=left(nabla m_xright)^2+left(nabla m_yright)^2+left(nabla m_zright)^2. So the corresponding effective field is","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"  mathbfH_mathrmex=frac2 Amu_0 M_s nabla^2 mathbfm","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"Zeeman energy","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"  E_mathrmex = -  mu_0 int_V  mathbfH cdot mathbfM mathrmdV","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"as expected, the effective field is mathbfH.","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"Anisotropy\nThe uniaxial anisotropy energy is given by","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"  E_mathrmanis = -int_V K_u (mathbfm cdot hatu)^2  dV","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"from which the effective field can be computed as","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"  mathbfH_mathrman=frac2 K_umu_0 M_sleft(mathbfm cdot haturight) hatu","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"Cubic Anisotropy\nThe cubic anisotropy energy is given by","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"  E_mathrmcubic = -int_V K_c (m_x^4 + m_y^4 + m_z^4)  dV","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"and thus the corresponding effective field reads","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"  mathbfH_mathrmcubic= frac4 K_cmu_0 M_s  \n  left( m_x^3 mathbfe_x + m_y^3 mathbfe_y + m_z^3 mathbfe_z right)","category":"page"},{"location":"equations/#Dzyaloshinskii-Moriya-Energy","page":"Equations","title":"Dzyaloshinskii-Moriya Energy","text":"","category":"section"},{"location":"equations/","page":"Equations","title":"Equations","text":"In the continuum limit, the DMI energy density w_mathrmdmi is associated with the so-called Lifshitz invariants, which are terms in the form","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"L^(k)_ij = m_i fracpartial m_jpartial x_k - m_j fracpartial m_ipartial x_k","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"The form of DMI energy density varies depending on the symmetry class. For bulk DMI, corresponding to symmetry class T or O, the expression is given by: ","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"  w_mathrmdmi = D(L^(z)_yx + L^(y)_xz + L^(x)_zy) = D mathbfm cdot (nabla times mathbfm)","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"The associated effective field is","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"  mathbfH_mathrmdmi=-frac2Dmu_0 M_s (nabla times mathbfm)","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"For a thin film with interfacial DMI or a crystal with symmetry class C_nv, the energy density is","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"  w_mathrmdmi=D (L_x z^(x)+L_y z^(y) )=Dleft(mathbfm cdot boldsymbolnabla m_z-m_z boldsymbolnabla cdot mathbfmright)","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"and the effective field is ","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"  mathbfH_mathrmdmi=-frac2 Dmu_0 M_s (mathbfe_y times fracpartial mathbfmpartial x - mathbfe_x times fracpartial mathbfmpartial y)","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"For a crystal with symmetry class D_2d, the DMI energy density is given by w_mathrmdmi=D (L_x z^(y)+L_y z^(x)), resulting in the effective field","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"  mathbfH_mathrmdmi=-frac2 Dmu_0 M_s (mathbfe_y times fracpartial mathbfmpartial y - mathbfe_x times fracpartial mathbfmpartial x )","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"Although the effective fields for different symmetries differ, the numerical implementation can be unified as follows","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"  mathbfH_mathrmdmi i = -frac1mu_0 M_s sum_j in N_i D_ij fracmathbfe_ij times mathbfm_jDelta_i j","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"where D_ij represents the effective DMI constant and mathbfe_ij denotes the DMI vectors. For bulk DMI, mathbfe_ij = hatmathbfr_ij where hatmathbfr_ij is the unit vector between cell i and cell j. For interfacial DMI,  mathbfe_ij = mathbfe_z times mathbfhatr_ij, i.e., mathbfe_ij=-mathbfe_y mathbfe_y mathbfe_x -mathbfe_x 0 0  for the 6 neighbors N_i=-x+x-y+y-z +z.  For the symmetry class D_2d one has mathbfe_ij=mathbfe_x -mathbfe_x -mathbfe_y mathbfe_y 0 0. If the cell-based DMI is provided, the effective DMI constant can be computed as","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"  D_i j=frac2 D_i D_jD_i+D_j","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"Bulk DMI energy The Bulk DMI energy reads","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"  E_mathrmdmi = int_V D mathbfm cdot (nabla times mathbfm)  mathrmdV","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"so the effective field is","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"  mathbfH_mathrmD=-frac2 Dmu_0 M_s(nabla times mathbfm)","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"Magnetostatic energy","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"  E_mathrmd=-fracmu_02 int_V mathbfH_mathrmd(mathbfr) cdot mathbfM(mathbfr) d V","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"  mathbfH_mathrmd(mathbfr)=frac14 pileft(int_V rho_mleft(mathbfr^primeright) fracmathbfr-mathbfr^primeleftmathbfr-mathbfr^primeright^3 mathrmd^3 r^prime+int_S sigma_mleft(mathbfr^primeright) fracmathbfr-mathbfr^primeleftmathbfr-mathbfr^primeright^3 mathrmd^2 r^primeright)","category":"page"},{"location":"equations/#LLG-equation","page":"Equations","title":"LLG equation","text":"","category":"section"},{"location":"equations/","page":"Equations","title":"Equations","text":"The driver LLG solves the standard LLG equation, which can be written as","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"fracpartial mathbfmpartial t = - gamma mathbfm times mathbfH + alpha mathbfm times  fracpartial mathbfmpartial t","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"and the corresponding LL form is given by","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"(1+alpha^2)fracpartial mathbfmpartial t = - gamma mathbfm times mathbfH - alpha gamma mathbfm times (mathbfm times mathbfH)","category":"page"},{"location":"equations/#LLG-equation-with-extensions","page":"Equations","title":"LLG equation with extensions","text":"","category":"section"},{"location":"equations/#Spin-transfer-torque","page":"Equations","title":"Spin transfer torque","text":"","category":"section"},{"location":"equations/","page":"Equations","title":"Equations","text":"In micromagnetics, the spin transfer torque is modelled with the extended LLG equation Zhang-Li extension,  which reads","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"fracpartial mathbfmpartial t = - gamma mathbfm times mathbfH + alpha mathbfm times  fracpartial mathbfmpartial t\n+ (mathbfu cdot nabla) mathbfm - beta mathbfmtimes (mathbfu cdot nabla)mathbfm","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"where ","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"mathbfu = fracp g mu_B2 e M_s mathbfj","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"represents the strength of the current. The unit of mathbfu is m/s.  In the definition of  mathbfu, p is the spin polarization of the electric current, e(0) is the elementary charge, M_s is the saturation magnetization and mathbfj is electric current density.","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"For the atomistic model, ","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"mathbfu = fracp g mu_B a^32 e mu_s mathbfj = fracp a^32 e S mathbfj","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"where S = mathbfS is the length of local spin.","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"In JuMag, the the extended LLG equation Zhang-Li extension is implemented in the driver LLG_STT.   Moreover, the driver LLG_CPP implements the LLG equation with spin transfer torque for the current-perpendicular-to-plane (CPP) case,","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"fracpartial mathbfmpartial t = - gamma mathbfm times mathbfH + alpha mathbfm times  fracpartial mathbfmpartial t - a_J mathbfm times (mathbfm times mathbfp)\n -  b_J mathbfm times mathbfp","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"The spin valve structures and  spin orbit torques can use the LLG_CPP driver.","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"The driver LLG_STT_CPP has put them together,","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"fracpartial mathbfmpartial t = - gamma mathbfm times mathbfH + alpha mathbfm times  fracpartial mathbfmpartial t\n+ (mathbfu cdot nabla) mathbfm - beta mathbfmtimes (mathbfu cdot nabla)mathbfm - a_J mathbfm times (mathbfm times mathbfp)\n -  b_J mathbfm times mathbfp","category":"page"},{"location":"equations/#SLLG-equation","page":"Equations","title":"SLLG equation","text":"","category":"section"},{"location":"equations/","page":"Equations","title":"Equations","text":"The SLLG equation, i.e., LLG equation including the stochastic field mathbfb, is given by","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"fracpartial mathbfmpartial t = - gamma mathbfm times (mathbfH_mathrmeff +mathbfb) + alpha mathbfm times  fracpartial mathbfmpartial t","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"The thermal fluctuation is assumed to be a Gaussian white noise, i.e., the thermal noise mathbfb obeys the  properties","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"left mathbfb right = 0  left mathbfb_i^u cdot mathbfb_j^v right = 2 D delta_ij delta_uv","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"where i and j are Cartesian indices, u and v indicate the magnetization components and left cdot  cdot right represents the average taken over different realizations of the fluctuating field. And","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"D = fracalpha k_B Tgamma mu_s","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"For the micromagnetic case, D is given as","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"D = fracalpha k_B Tmu_0 M_s gamma Delta V","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"which is equivalent to a stochastic field  ","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"mathbfb^u = eta sqrt frac2 alpha k_B Tmu_0 M_s gamma Delta V dt","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"where eta is a random number follows the normal distribution.","category":"page"},{"location":"equations/#Steepest-descent-method","page":"Equations","title":"Steepest descent method","text":"","category":"section"},{"location":"equations/","page":"Equations","title":"Equations","text":"We provide a steepest descent energy minimization method for a complicated system, which is of the form","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"x_k+1 = x_k + alpha_k d_k","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"where","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"d_k = - nabla f(x_k)","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"And for the micromagnetics, we have","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"mathbfm_k+1 = mathbfm_k - tau_k mathbfm_k  times (mathbfm_k times mathbfH_mathrmeff)","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"In practice, we use the following update rule to keep the magnetization vector normalized.","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"boldsymbolm_k+1=boldsymbolm_k-tau_k fracboldsymbolm_k+boldsymbolm_k+12 timesleft(boldsymbolm_k times boldsymbolH_mathrmeffleft(boldsymbolm_kright)right)","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"boldsymbolm_k+1^2 = boldsymbolm_k^2","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"From the equation we have:","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"(1+fractau_k^24 boldsymbolf_k^2)mathbfm_k+1 =\n(1-fractau_k^24 boldsymbolf_k^2)mathbfm_k -  tau_k mathbfg_k","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"where","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"beginaligned\nmathbff_k = mathbfm_k times mathbfH_mathrmeff\nboldsymbolg_k =boldsymbolm_k timesleft(boldsymbolm_k times boldsymbolH_mathrmeffright)\nendaligned","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"The step size tau_k can be computed by","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"tau_k^1=fracsum_i boldsymbols_k-1^i cdot boldsymbols_k-1^isum_i boldsymbols_k-1^i cdot boldsymboly_k-1^i quad quad tau_k^2=fracsum_i boldsymbols_k-1^i cdot boldsymboly_k-1^isum_i boldsymboly_k-1^i cdot boldsymboly_k-1^i","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"where","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"beginaligned  boldsymbols_k-1 =boldsymbolm_k-boldsymbolm_k-1  boldsymboly_k-1 =boldsymbolg_k-boldsymbolg_k-1 endaligned","category":"page"},{"location":"equations/#Monte-Carlo-Simulation","page":"Equations","title":"Monte Carlo Simulation","text":"","category":"section"},{"location":"equations/","page":"Equations","title":"Equations","text":"The implemented energy reads","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"mathcalH = -sum_langle i jrangle left( J_x S_i^x  S_j^x + J_y S_i^y  S_j^y + J_z S_i^z  S_j^z right)\n\n+ sum_langle i jrangle  mathbfD_i j cdotleft(mathbfS_i times mathbfS_jright)\n\n- K sum_ileft(mathbfu cdot mathbfS_iright)^2 - sum_i mathbfH cdot mathbfS_i","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"where mathbfS_i is unit vector of the classical spin at site i.","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"For interfacial DMI,","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"mathbfD_i j = D hatz times hatr_ij  + D_z^j hatz","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"while for Bulk DMI, ","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"mathbfD_i j = D hatr_ij","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"Note that the Monte Carlo only works for triangular and cubic meshes.","category":"page"},{"location":"equations/#NEB-(Nudged-elastic-band)","page":"Equations","title":"NEB (Nudged elastic band)","text":"","category":"section"},{"location":"equations/","page":"Equations","title":"Equations","text":"NEB is a chain method to find the MEP (minimum energy path) between two states. To start, we need to construct a chain including several images (each image is a copy of the magnetization) and then relax the system. Two ends images that corresponding to the initial and final states will be pinned as they are the energy states given by the users. The system contain all free images will be relaxed to reduce the total energy, which is very similar to the case that relaxing the magnetic system using LLG equation if one disables the precession term. One significant difference is that the effective field in LLG equation is the functional derivative of the system energy with respect to magnetization while in NEB the effective field of image n should also contain the influence of its neighbours (i.e., the images n-1 and n+1). This influence is described by the so-called tangents: only the perpendicaular part of the effective field is kept when relaxing the whole system.","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"Assume that the whole system has N images","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"mathbfZ = mathbfY_1 mathbfY_2  mathbfY_N","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"where","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"mathbfY_i = m_1x m_1y m_1z  m_nx m_ny m_nz","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"each image has n spins. To relax the system, we could solve the equation","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"fracmathbfY_ipartial t = - mathbfY_i times (mathbfY_i times mathbfG_i)","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"where mathbfG_i is effective field that can be computed as","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"mathbfY_i = mathbfH_i - (mathbfH_i cdot mathbft_i) mathbft_i +  mathbfF_i","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"The mathbfH_i is the normal micromagnetic effective field, mathbft_i is the tangent and mathbfF_i is a force that can be used to adjust the distance between images.","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":" mathbfF_i = k (mathbfY_i+1-mathbfY_i-mathbfY_i-mathbfY_i-1) mathbft_i","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"The distance bewteen images mathbfY_i and mathbfY_j is defined as","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":" L = left  sum_k (L_k^ij)^2 right  ^12","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"where L_k^ij is the geodesic distance of point k that can be computed using Vincenty's formula.","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"The tangents can be computed as follows","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"mathbft_i^+ =  mathbfY_i+1-mathbfY_i\nmathbft_i^- =  mathbfY_i-mathbfY_i-1","category":"page"},{"location":"equations/","page":"Equations","title":"Equations","text":"The detailed equations can be found @ [Journal of Chemical Physics 113, 22 (2000)] and [Computer Physics Communications 196 (2015) 335–347].","category":"page"},{"location":"#Hello.jl","page":"Hello.jl","title":"Hello.jl","text":"","category":"section"},{"location":"","page":"Hello.jl","title":"Hello.jl","text":"This repository is used for testing.","category":"page"},{"location":"","page":"Hello.jl","title":"Hello.jl","text":"Testing","category":"page"}]
}
